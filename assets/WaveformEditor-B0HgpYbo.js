import{d as X,w as j,n as F,q as z,o as b,a as V,x as $,r as R,s as W,b as _,B as L,C as D,_ as G,y as U,F as H,z as Q,G as B}from"./index-CeXLby3W.js";const le={key:0,class:"knob-label"},se={key:1,class:"knob-value"},ie=X({__name:"RotaryKnob",props:{modelValue:{},min:{default:0},max:{default:1},step:{default:.01},label:{},accentColor:{default:"#ff6b35"},size:{default:"medium"},showValue:{type:Boolean,default:!0},valueFormat:{type:Function,default:p=>p.toFixed(2)}},emits:["update:modelValue"],setup(p,{emit:A}){const n=p,k=A,r=L(null),v=L(!1),w=L(0),M=L(0),P=D(()=>{switch(n.size){case"small":return{canvas:40,stroke:2,arcStroke:2.5,centerRadius:12};case"large":return{canvas:72,stroke:2.5,arcStroke:4,centerRadius:24};default:return{canvas:56,stroke:2,arcStroke:3,centerRadius:18}}}),C=D(()=>(n.modelValue-n.min)/(n.max-n.min)),T=Math.PI*.75,E=Math.PI*2.25,K=E-T,S=D(()=>T+C.value*K);function c(){if(!r.value)return;const t=r.value.getContext("2d");if(!t)return;const l=P.value.canvas,s=window.devicePixelRatio||1;r.value.width=l*s,r.value.height=l*s,r.value.style.width=l+"px",r.value.style.height=l+"px",t.scale(s,s);const i=l/2,m=l/2,a=l/2-4,{stroke:d,arcStroke:u,centerRadius:h}=P.value;t.clearRect(0,0,l,l),t.beginPath(),t.arc(i,m,a,T,E),t.strokeStyle="#333",t.lineWidth=d,t.lineCap="round",t.stroke(),C.value>.001&&(t.beginPath(),t.arc(i,m,a,T,S.value),t.strokeStyle=n.accentColor,t.lineWidth=u,t.lineCap="round",t.stroke()),t.beginPath(),t.arc(i,m,h,0,Math.PI*2),t.fillStyle="#1a1a1a",t.fill(),t.strokeStyle="#333",t.lineWidth=1,t.stroke();const x=h-4,N=S.value,I=i+Math.cos(N)*4,Y=m+Math.sin(N)*4,O=i+Math.cos(N)*x,ae=m+Math.sin(N)*x;t.beginPath(),t.moveTo(I,Y),t.lineTo(O,ae),t.strokeStyle=n.accentColor,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.arc(i,m,2,0,Math.PI*2),t.fillStyle="#666",t.fill()}function y(t){v.value=!0,w.value=t.clientY,M.value=n.modelValue,window.addEventListener("mousemove",f),window.addEventListener("mouseup",g),t.preventDefault()}function f(t){if(!v.value)return;const l=w.value-t.clientY,s=(n.max-n.min)/150;let i=M.value+l*s;i=Math.round(i/n.step)*n.step,i=Math.max(n.min,Math.min(n.max,i)),k("update:modelValue",i)}function g(){v.value=!1,window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",g)}function e(t){t.preventDefault();const l=t.deltaY<0?1:-1,s=t.shiftKey?10:1;let i=n.modelValue+l*n.step*s;i=Math.round(i/n.step)*n.step,i=Math.max(n.min,Math.min(n.max,i)),k("update:modelValue",i)}function o(){const t=(n.min+n.max)/2;k("update:modelValue",t)}return j([()=>n.modelValue,()=>n.accentColor,()=>n.size],c),F(()=>{c()}),z(()=>{v.value&&(window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",g))}),(t,l)=>(b(),V("div",{class:$(["rotary-knob",[p.size,{dragging:v.value}]])},[p.label?(b(),V("span",le,R(p.label),1)):W("",!0),_("canvas",{ref_key:"canvas",ref:r,class:"knob-canvas",onMousedown:y,onWheel:e,onDblclick:o},null,544),p.showValue?(b(),V("span",se,R(p.valueFormat(p.modelValue)),1)):W("",!0)],2))}}),Ee=G(ie,[["__scopeId","data-v-9468de6a"]]),ce={class:"white-keys-layer"},ue=["onMousedown","onMouseup","onMouseleave"],re={class:"key-labels"},de={key:0,class:"note-label"},he={key:1,class:"computer-key-label"},fe={key:0,class:"black-keys-layer"},me=["onMousedown","onMouseup","onMouseleave"],ve={key:0,class:"computer-key-label black-key-label"},pe=X({__name:"PianoKeyboard",props:{numKeys:{default:25},startOctave:{default:3},octaveShift:{default:0},includeBlackKeys:{type:Boolean,default:!0},velocitySensitive:{type:Boolean,default:!0},width:{default:400},height:{default:120},darkMode:{type:Boolean,default:!1}},emits:["note-on","note-off"],setup(p,{emit:A}){const n=p,k=A,r=L(new Set),v={z:0,a:0,s:1,x:2,d:3,c:4,v:5,g:6,b:7,h:8,n:9,j:10,m:11,",":12,l:13,".":14,";":15,"/":16,q:12,2:13,w:14,3:15,e:16,r:17,5:18,t:19,6:20,y:21,7:22,u:23,i:24,9:25,o:26,0:27,p:28},w=L(new Set),M=D(()=>n.startOctave*12+n.octaveShift*12),P=[0,2,4,5,7,9,11],C=[1,3,6,8,10],T=D(()=>{const a=[],d=n.startOctave*12;let u=0,h=0;for(;a.filter(x=>x.type==="white").length<n.numKeys;){const x=h%12,N=d+h;if(N>127)break;const I=P.includes(x),Y=C.includes(x);I?(a.push({type:"white",midiNote:N,whiteKeyIndex:u}),u++):Y&&n.includeBlackKeys&&a.push({type:"black",midiNote:N,whiteKeyIndex:u-1}),h++}return a}),E=D(()=>T.value.filter(a=>a.type==="white")),K=D(()=>T.value.filter(a=>a.type==="black")),S=D(()=>n.width/E.value.length),c=D(()=>S.value*.6);function y(a){const d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],u=Math.floor(a/12)-1;return`${d[a%12]}${u}`}function f(a){return a%12===0}function g(a){const d=a-M.value;for(const[u,h]of Object.entries(v))if(h===d)return u.toUpperCase();return""}function e(a,d){if(!n.velocitySensitive)return 100;const u=d.getBoundingClientRect(),h=(a.clientY-u.top)/u.height,x=Math.round(40+h*87);return Math.min(127,Math.max(1,x))}function o(a,d){a.preventDefault();const u=a.currentTarget,h=e(a,u);r.value.add(d),k("note-on",d,h)}function t(a){r.value.has(a)&&(r.value.delete(a),k("note-off",a))}function l(a){t(a)}function s(){for(const a of r.value){const d=a-M.value;let u=!1;for(const[h,x]of Object.entries(v))if(x===d&&w.value.has(h)){u=!0;break}u||(k("note-off",a),r.value.delete(a))}}function i(a){const d=a.key.toLowerCase();if(w.value.has(d)||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement)return;const u=v[d];if(u===void 0)return;const h=M.value+u,x=Math.min(...T.value.map(I=>I.midiNote)),N=Math.max(...T.value.map(I=>I.midiNote));h<x||h>N||!n.includeBlackKeys&&C.includes(h%12)||(a.preventDefault(),w.value.add(d),r.value.add(h),k("note-on",h,100))}function m(a){const d=a.key.toLowerCase();if(!w.value.has(d))return;const u=v[d];if(u===void 0)return;const h=M.value+u;w.value.delete(d),r.value.has(h)&&(r.value.delete(h),k("note-off",h))}return F(()=>{window.addEventListener("keydown",i),window.addEventListener("keyup",m)}),z(()=>{window.removeEventListener("keydown",i),window.removeEventListener("keyup",m);for(const a of r.value)k("note-off",a)}),(a,d)=>(b(),V("div",{class:$(["piano-keyboard",{"dark-mode":p.darkMode}]),style:U({width:p.width+"px",height:p.height+"px"}),onMouseleave:s,onMouseup:s},[_("div",ce,[(b(!0),V(H,null,Q(E.value,u=>(b(),V("div",{key:u.midiNote,class:$(["white-key",{active:r.value.has(u.midiNote)}]),style:U({width:S.value+"px",left:u.whiteKeyIndex*S.value+"px"}),onMousedown:h=>o(h,u.midiNote),onMouseup:h=>t(u.midiNote),onMouseleave:h=>l(u.midiNote)},[_("div",re,[f(u.midiNote)?(b(),V("span",de,R(y(u.midiNote)),1)):W("",!0),g(u.midiNote)?(b(),V("span",he,R(g(u.midiNote)),1)):W("",!0)])],46,ue))),128))]),p.includeBlackKeys?(b(),V("div",fe,[(b(!0),V(H,null,Q(K.value,u=>(b(),V("div",{key:u.midiNote,class:$(["black-key",{active:r.value.has(u.midiNote)}]),style:U({width:c.value+"px",left:(u.whiteKeyIndex+1)*S.value-c.value/2+"px",height:p.height*.58+"px"}),onMousedown:B(h=>o(h,u.midiNote),["stop"]),onMouseup:B(h=>t(u.midiNote),["stop"]),onMouseleave:h=>l(u.midiNote)},[g(u.midiNote)?(b(),V("span",ve,R(g(u.midiNote)),1)):W("",!0)],46,me))),128))])):W("",!0)],38))}}),_e=G(pe,[["__scopeId","data-v-2ae08469"]]),ye={class:"envelope-editor"},ge={class:"envelope-values"},J=2,Z=2,ee=5,we=X({__name:"EnvelopeEditor",props:{modelValue:{},width:{default:200},height:{default:100},accentColor:{default:"#ff6b35"}},emits:["update:modelValue"],setup(p,{emit:A}){const n=p,k=A,r=L(null),v=L(null),w=J+Z+ee,M=D(()=>{const c=n.width,y=n.height,f=12,g=f+n.modelValue.attack/w*(c-f*2),e=g+n.modelValue.decay/w*(c-f*2),o=(c-f*2)*.2,t=e+o,l=c-f,s=f,i=y-f,m=s+(1-n.modelValue.sustain)*(i-s);return{start:{x:f,y:i},attack:{x:g,y:s},decay:{x:e,y:m},sustain:{x:t,y:m},release:{x:l,y:i},padding:f,top:s,bottom:i}});function P(){if(!r.value)return;const c=r.value.getContext("2d");if(!c)return;const y=n.width,f=n.height,g=window.devicePixelRatio||1;r.value.width=y*g,r.value.height=f*g,r.value.style.width=y+"px",r.value.style.height=f+"px",c.scale(g,g),c.clearRect(0,0,y,f),c.fillStyle="#0a0a0a",c.fillRect(0,0,y,f),c.strokeStyle="#1a1a1a",c.lineWidth=1;for(let t=0;t<=4;t++){const l=M.value.padding+t/4*(f-M.value.padding*2);c.beginPath(),c.moveTo(0,l),c.lineTo(y,l),c.stroke()}const e=M.value;c.beginPath(),c.moveTo(e.start.x,e.start.y),c.lineTo(e.attack.x,e.attack.y),c.lineTo(e.decay.x,e.decay.y),c.lineTo(e.sustain.x,e.sustain.y),c.lineTo(e.release.x,e.release.y),c.strokeStyle=n.accentColor,c.lineWidth=2,c.stroke(),c.lineTo(e.release.x,e.bottom),c.lineTo(e.start.x,e.bottom),c.closePath(),c.fillStyle=n.accentColor+"20",c.fill();const o=(t,l,s)=>{c.beginPath(),c.arc(t,l,s?7:5,0,Math.PI*2),c.fillStyle=s?n.accentColor:"#1a1a1a",c.fill(),c.strokeStyle=n.accentColor,c.lineWidth=2,c.stroke()};o(e.attack.x,e.attack.y,v.value==="attack"),o(e.decay.x,e.decay.y,v.value==="decay"),o(e.sustain.x,e.sustain.y,v.value==="sustain"),c.fillStyle="#666",c.font="9px monospace",c.textAlign="center",c.fillText("A",e.attack.x,f-2),c.fillText("D",e.decay.x,f-2),c.fillText("S",e.sustain.x,f-2),c.fillText("R",e.release.x,f-2)}function C(c,y){const f=M.value,g=12,e=(o,t)=>Math.sqrt((c-o)**2+(y-t)**2);return e(f.attack.x,f.attack.y)<g?"attack":e(f.decay.x,f.decay.y)<g?"decay":e(f.sustain.x,f.sustain.y)<g?"sustain":null}function T(c){if(!r.value)return;const y=r.value.getBoundingClientRect(),f=c.clientX-y.left,g=c.clientY-y.top,e=C(f,g);e&&(v.value=e,window.addEventListener("mousemove",E),window.addEventListener("mouseup",K),c.preventDefault())}function E(c){if(!v.value||!r.value)return;const y=r.value.getBoundingClientRect(),f=c.clientX-y.left,g=c.clientY-y.top,e=n.width,o=n.height,t=M.value.padding,l=Math.max(0,Math.min(1,(f-t)/(e-t*2))),s=Math.max(0,Math.min(1,(g-t)/(o-t*2))),i={...n.modelValue};switch(v.value){case"attack":i.attack=l*J;break;case"decay":{const m=n.modelValue.attack/w,a=Math.max(m,l)-m;i.decay=a*w,i.decay=Math.min(Z,Math.max(.001,i.decay)),i.sustain=1-s;break}case"sustain":i.sustain=1-s;break}i.attack=Math.max(.001,Math.min(J,i.attack)),i.decay=Math.max(.001,Math.min(Z,i.decay)),i.sustain=Math.max(0,Math.min(1,i.sustain)),i.release=Math.max(.001,Math.min(ee,i.release)),k("update:modelValue",i)}function K(){v.value=null,window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",K)}function S(c){c.preventDefault();const y=c.deltaY<0?.1:-.1,f=Math.max(.001,Math.min(ee,n.modelValue.release+y));k("update:modelValue",{...n.modelValue,release:f})}return j(()=>n.modelValue,P,{deep:!0}),F(()=>{P()}),z(()=>{window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",K)}),(c,y)=>(b(),V("div",ye,[_("canvas",{ref_key:"canvas",ref:r,class:"envelope-canvas",onMousedown:T,onWheel:S},null,544),_("div",ge,[_("span",null,"A: "+R(p.modelValue.attack.toFixed(2))+"s",1),_("span",null,"D: "+R(p.modelValue.decay.toFixed(2))+"s",1),_("span",null,"S: "+R((p.modelValue.sustain*100).toFixed(0))+"%",1),_("span",null,"R: "+R(p.modelValue.release.toFixed(2))+"s",1)])]))}}),Pe=G(we,[["__scopeId","data-v-207d5d27"]]),xe={class:"eq-editor"},Me={class:"eq-values"},te=20,ne=2e4,q=-24,oe=24,ke=X({__name:"EQEditor",props:{modelValue:{},width:{default:240},height:{default:120},accentColor:{default:"#a855f7"}},emits:["update:modelValue"],setup(p,{emit:A}){const n=p,k=A,r=L(null),v=L(null),w=["#ef4444","#22c55e","#3b82f6"];function M(e){const t=Math.log10(te),l=Math.log10(ne);return 10+(Math.log10(e)-t)/(l-t)*(n.width-10*2)}function P(e){const t=Math.log10(te),l=Math.log10(ne),s=(e-10)/(n.width-10*2);return Math.pow(10,t+s*(l-t))}function C(e){const t=(e-q)/(oe-q);return n.height-10-t*(n.height-10*2)}function T(e){const t=(n.height-10-e)/(n.height-20);return q+t*(oe-q)}function E(e){let o=0;for(const t of n.modelValue.bands){const l=Math.log2(e/t.frequency),s=1/t.q,i=t.gain*Math.exp(-(l*l)/(2*s*s));o+=i}return o}function K(){if(!r.value)return;const e=r.value.getContext("2d");if(!e)return;const o=n.width,t=n.height,l=window.devicePixelRatio||1;r.value.width=o*l,r.value.height=t*l,r.value.style.width=o+"px",r.value.style.height=t+"px",e.scale(l,l),e.clearRect(0,0,o,t),e.fillStyle="#0a0a0a",e.fillRect(0,0,o,t);const s=10;e.strokeStyle="#1a1a1a",e.lineWidth=1;for(let a=-24;a<=24;a+=12){const d=C(a);e.beginPath(),e.moveTo(s,d),e.lineTo(o-s,d),e.stroke()}e.strokeStyle="#333";const i=C(0);e.beginPath(),e.moveTo(s,i),e.lineTo(o-s,i),e.stroke(),e.strokeStyle="#1a1a1a";for(const a of[100,1e3,1e4]){const d=M(a);e.beginPath(),e.moveTo(d,s),e.lineTo(d,t-s),e.stroke()}e.beginPath();let m=!0;for(let a=s;a<=o-s;a+=2){const d=P(a),u=E(d),h=C(u);m?(e.moveTo(a,h),m=!1):e.lineTo(a,h)}e.strokeStyle=n.accentColor,e.lineWidth=2,e.stroke(),e.lineTo(o-s,i),e.lineTo(s,i),e.closePath(),e.fillStyle=n.accentColor+"15",e.fill();for(let a=0;a<n.modelValue.bands.length;a++){const d=n.modelValue.bands[a];e.beginPath();let u=!0;for(let h=s;h<=o-s;h+=2){const x=P(h),N=Math.log2(x/d.frequency),I=1/d.q,Y=d.gain*Math.exp(-(N*N)/(2*I*I)),O=C(Y);u?(e.moveTo(h,O),u=!1):e.lineTo(h,O)}e.strokeStyle=w[a]+"60",e.lineWidth=1,e.stroke()}for(let a=0;a<n.modelValue.bands.length;a++){const d=n.modelValue.bands[a],u=M(d.frequency),h=C(d.gain),x=v.value===a;e.beginPath(),e.arc(u,h,x?8:6,0,Math.PI*2),e.fillStyle=x?w[a]:"#1a1a1a",e.fill(),e.strokeStyle=w[a],e.lineWidth=2,e.stroke(),e.fillStyle="#666",e.font="9px monospace",e.textAlign="center",e.fillText(`${a+1}`,u,h+3)}e.fillStyle="#444",e.font="8px monospace",e.textAlign="center",e.fillText("100",M(100),t-2),e.fillText("1k",M(1e3),t-2),e.fillText("10k",M(1e4),t-2)}function S(e,o){for(let l=0;l<n.modelValue.bands.length;l++){const s=n.modelValue.bands[l],i=M(s.frequency),m=C(s.gain);if(Math.sqrt((e-i)**2+(o-m)**2)<15)return l}return null}function c(e){if(!r.value)return;const o=r.value.getBoundingClientRect(),t=n.width/o.width,l=n.height/o.height,s=(e.clientX-o.left)*t,i=(e.clientY-o.top)*l,m=S(s,i);m!==null&&(v.value=m,r.value.setPointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation())}function y(e){if(v.value===null||!r.value)return;const o=r.value.getBoundingClientRect(),t=n.width/o.width,l=n.height/o.height,s=(e.clientX-o.left)*t,i=(e.clientY-o.top)*l,m=[...n.modelValue.bands];m[v.value]={...m[v.value],frequency:Math.max(te,Math.min(ne,P(s))),gain:Math.max(q,Math.min(oe,T(i)))},k("update:modelValue",{bands:m}),e.preventDefault(),e.stopPropagation()}function f(e){v.value!==null&&r.value&&r.value.releasePointerCapture(e.pointerId),v.value=null}function g(e){if(!r.value)return;const o=r.value.getBoundingClientRect(),t=n.width/o.width,l=n.height/o.height,s=(e.clientX-o.left)*t,i=(e.clientY-o.top)*l,m=S(s,i);if(m!==null){e.preventDefault();const a=e.deltaY<0?.2:-.2,d=[...n.modelValue.bands];d[m]={...d[m],q:Math.max(.1,Math.min(10,d[m].q+a))},k("update:modelValue",{bands:d})}}return j(()=>n.modelValue,K,{deep:!0}),F(()=>{K()}),z(()=>{}),(e,o)=>(b(),V("div",xe,[_("canvas",{ref_key:"canvas",ref:r,class:"eq-canvas",onPointerdown:B(c,["stop"]),onPointermove:B(y,["stop"]),onPointerup:B(f,["stop"]),onPointercancel:B(f,["stop"]),onWheel:B(g,["stop","prevent"]),onMousedown:o[0]||(o[0]=B(()=>{},["stop"])),onTouchstart:o[1]||(o[1]=B(()=>{},["stop"]))},null,544),_("div",Me,[(b(!0),V(H,null,Q(p.modelValue.bands,(t,l)=>(b(),V("span",{key:l,style:U({color:w[l]})},R(Math.round(t.frequency))+"Hz "+R(t.gain>0?"+":"")+R(t.gain.toFixed(1))+"dB ",5))),128))])]))}}),Ne=G(ke,[["__scopeId","data-v-0b6af4aa"]]),be={class:"waveform-editor"},Ve={class:"waveform-presets"},Ce=["onClick"],Te=X({__name:"WaveformEditor",props:{modelValue:{},width:{default:200},height:{default:80},accentColor:{default:"#22c55e"},sampleCount:{default:64}},emits:["update:modelValue"],setup(p,{emit:A}){const n=p,k=A,r=L(null),v=L(!1),w=L(null),M={sine:(e,o)=>Math.sin(e/o*Math.PI*2),square:(e,o)=>e<o/2?1:-1,sawtooth:(e,o)=>2*(e/o)-1,triangle:(e,o)=>{const t=e/o;return t<.5?4*t-1:3-4*t}};function P(e){const o=M[e];return o?Array.from({length:n.sampleCount},(t,l)=>o(l,n.sampleCount)):n.modelValue.samples}const C=D(()=>{if(n.modelValue.samples.length===n.sampleCount)return n.modelValue.samples;const e=[];for(let o=0;o<n.sampleCount;o++){const t=o/n.sampleCount*n.modelValue.samples.length,l=Math.floor(t),s=Math.min(l+1,n.modelValue.samples.length-1),i=t-l;e.push(n.modelValue.samples[l]*(1-i)+n.modelValue.samples[s]*i)}return e});function T(){if(!r.value)return;const e=r.value.getContext("2d");if(!e)return;const o=n.width,t=n.height,l=window.devicePixelRatio||1;r.value.width=o*l,r.value.height=t*l,r.value.style.width=o+"px",r.value.style.height=t+"px",e.scale(l,l),e.clearRect(0,0,o,t),e.fillStyle="#0a0a0a",e.fillRect(0,0,o,t);const s=4,i=o-s*2,m=t-s*2,a=t/2;e.strokeStyle="#1a1a1a",e.lineWidth=1,e.beginPath(),e.moveTo(s,a),e.lineTo(o-s,a),e.stroke(),e.strokeStyle="#151515";for(const u of[.25,.75])e.beginPath(),e.moveTo(s,s+u*m),e.lineTo(o-s,s+u*m),e.stroke();e.beginPath();const d=C.value;for(let u=0;u<d.length;u++){const h=s+u/(d.length-1)*i,x=a-d[u]*(m/2);u===0?e.moveTo(h,x):e.lineTo(h,x)}if(e.strokeStyle=n.accentColor,e.lineWidth=2,e.stroke(),e.lineTo(o-s,a),e.lineTo(s,a),e.closePath(),e.fillStyle=n.accentColor+"20",e.fill(),v.value)for(let u=0;u<d.length;u++){const h=s+u/(d.length-1)*i,x=a-d[u]*(m/2);e.beginPath(),e.arc(h,x,2,0,Math.PI*2),e.fillStyle=n.accentColor,e.fill()}}function E(e){const t=n.width-8,l=(e-4)/t;return Math.max(0,Math.min(n.sampleCount-1,Math.round(l*(n.sampleCount-1))))}function K(e){const o=n.height/2,t=(n.height-8)/2;return Math.max(-1,Math.min(1,(o-e)/t))}function S(e,o){const t=E(e),l=K(o),s=[...C.value];if(w.value!==null){const i=E(w.value);if(i!==t){const m=t>i?1:-1;for(let a=i;a!==t;a+=m){const d=(a-i)/(t-i);s[a]=s[i]*(1-d)+l*d}}}s[t]=l,w.value=e,k("update:modelValue",{samples:s,preset:"custom"})}function c(e){if(!r.value)return;const o=r.value.getBoundingClientRect(),t=e.clientX-o.left,l=e.clientY-o.top;v.value=!0,w.value=null,S(t,l),window.addEventListener("mousemove",y),window.addEventListener("mouseup",f),e.preventDefault()}function y(e){if(!v.value||!r.value)return;const o=r.value.getBoundingClientRect(),t=e.clientX-o.left,l=e.clientY-o.top;S(t,l)}function f(){v.value=!1,w.value=null,window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",f)}function g(e){const o=P(e);k("update:modelValue",{samples:o,preset:e})}return j(()=>n.modelValue,T,{deep:!0}),F(()=>{T()}),z(()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",f)}),(e,o)=>(b(),V("div",be,[_("canvas",{ref_key:"canvas",ref:r,class:"waveform-canvas",onMousedown:c},null,544),_("div",Ve,[(b(),V(H,null,Q(["sine","square","sawtooth","triangle"],t=>_("button",{key:t,class:$(["preset-btn",{active:p.modelValue.preset===t}]),onClick:l=>g(t)},R(t.charAt(0).toUpperCase()),11,Ce)),64))])]))}}),Re=G(Te,[["__scopeId","data-v-80c3bfe2"]]);export{Pe as E,_e as P,Ee as R,Re as W,Ne as a};
